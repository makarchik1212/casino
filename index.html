<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>üé∞ –ö–∞–∑–∏–Ω–æ –ö–µ–π—Å—ã</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      overflow: hidden;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 30px;
      text-shadow: 0 0 10px gold;
    }

    .case-container {
      width: 90%;
      max-width: 600px;
      overflow: hidden;
      border: 4px solid gold;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      position: relative;
    }

    .roller {
      display: flex;
      transition: transform 3s cubic-bezier(0.25, 1, 0.5, 1);
    }

    .item {
      flex: 0 0 100px;
      margin: 10px;
      text-align: center;
      border-radius: 10px;
      padding: 10px;
      background: #1a1a1a;
      border: 2px solid #333;
      font-weight: bold;
      color: white;
    }

    .item.common { border-color: gray; }
    .item.rare { border-color: skyblue; }
    .item.epic { border-color: violet; }
    .item.legendary { border-color: gold; }

    .center-line {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 50%;
      width: 4px;
      background: red;
      transform: translateX(-50%);
      z-index: 2;
    }

    button {
      margin-top: 30px;
      padding: 15px 30px;
      background: gold;
      border: none;
      color: #111;
      font-weight: bold;
      font-size: 1.2rem;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #ffd700;
    }

    .result {
      margin-top: 20px;
      font-size: 1.5rem;
      text-shadow: 0 0 10px black;
    }
  </style>
</head>
<body>

  <h1>üéÅ –ö–∞–∑–∏–Ω–æ: –û—Ç–∫—Ä–æ–π —Å–≤–æ–π –∫–µ–π—Å!</h1>

  <div class="case-container">
    <div class="center-line"></div>
    <div class="roller" id="roller">
      <!-- Items will be inserted here dynamically -->
    </div>
  </div>

  <button id="openBtn">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å</button>
  <div class="result" id="result"></div>

  <script>
    const items = [
      { name: 'üíµ 10 –º–æ–Ω–µ—Ç', class: 'common', chance: 60 },
      { name: 'üíé 50 –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤', class: 'rare', chance: 25 },
      { name: 'üé≤ VIP –∫–∞—Ä—Ç–∞', class: 'epic', chance: 10 },
      { name: 'üëë –ó–æ–ª–æ—Ç–æ–π –¥–∂–µ–∫–ø–æ—Ç', class: 'legendary', chance: 5 }
    ];

    const roller = document.getElementById('roller');
    const btn = document.getElementById('openBtn');
    const resultDiv = document.getElementById('result');

    function getRandomItem() {
      const rand = Math.random() * 100;
      let sum = 0;
      for (let item of items) {
        sum += item.chance;
        if (rand <= sum) return item;
      }
    }

    function fillRoller(targetItem) {
      roller.innerHTML = '';
      const fullList = [];

      for (let i = 0; i < 20; i++) {
        const random = items[Math.floor(Math.random() * items.length)];
        fullList.push(random);
      }

      fullList.push(targetItem); // —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç

      fullList.forEach(item => {
        const div = document.createElement('div');
        div.className = `item ${item.class}`;
        div.innerText = item.name;
        roller.appendChild(div);
      });

      return fullList.length;
    }

    btn.addEventListener('click', () => {
      btn.disabled = true;
      resultDiv.textContent = '–ö–µ–π—Å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è...';

      const winItem = getRandomItem();
      const itemCount = fillRoller(winItem);

      const scrollDistance = (itemCount - 6) * 120; // —Å–º–µ—â–∞–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã –Ω—É–∂–Ω—ã–π –±—ã–ª –≤ —Ü–µ–Ω—Ç—Ä–µ
      roller.style.transform = `translateX(-${scrollDistance}px)`;

      setTimeout(() => {
        resultDiv.innerHTML = `üéâ –í–∞–º –≤—ã–ø–∞–ª–æ: <span style="color: ${winItem.class === 'legendary' ? 'gold' : winItem.class === 'epic' ? 'violet' : winItem.class === 'rare' ? 'skyblue' : 'gray'}">${winItem.name}</span>`;
        btn.disabled = false;
      }, 3200);
    });
  </script>

</body>
</html>
